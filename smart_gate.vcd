$date
	Wed Jan 14 11:40:48 2026
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_smart_gate $end
$var wire 1 ! yellow_o $end
$var wire 1 " red_o $end
$var wire 1 # green_o $end
$var wire 1 $ gate_open_o $end
$var wire 1 % gate_close_o $end
$var wire 8 & car_count_o [7:0] $end
$var reg 1 ' car_i $end
$var reg 1 ( clear_i $end
$var reg 1 ) clk_i $end
$var reg 1 * cnt_reset_i $end
$var reg 1 + pay_ok_i $end
$var reg 1 , reset_ni $end
$var integer 32 - expected_count [31:0] $end
$var integer 32 . i [31:0] $end
$var integer 32 / lights [31:0] $end
$scope module dut $end
$var wire 1 ' car_i $end
$var wire 1 ( clear_i $end
$var wire 1 ) clk_i $end
$var wire 1 * cnt_reset_i $end
$var wire 1 + pay_ok_i $end
$var wire 1 , reset_ni $end
$var reg 8 0 car_count_o [7:0] $end
$var reg 1 % gate_close_o $end
$var reg 1 $ gate_open_o $end
$var reg 1 # green_o $end
$var reg 3 1 next_state [2:0] $end
$var reg 2 2 next_timer [1:0] $end
$var reg 1 " red_o $end
$var reg 3 3 state [2:0] $end
$var reg 2 4 timer [1:0] $end
$var reg 1 ! yellow_o $end
$upscope $end
$scope task drive_request_one_cycle $end
$upscope $end
$scope task expect_lights $end
$var reg 1 5 g $end
$var reg 1 6 r $end
$var reg 256 7 tag [255:0] $end
$var reg 1 8 y $end
$upscope $end
$scope task expect_motor_now $end
$var reg 1 9 close_pulse $end
$var reg 1 : open_pulse $end
$var reg 256 ; tag [255:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
bx ;
x:
x9
x8
bx 7
x6
x5
b0 4
b0 3
b0 2
b0 1
b0 0
bx /
bx .
bx -
0,
0+
0*
0)
1(
0'
b0 &
0%
0$
0#
1"
0!
$end
#5000
1)
#10000
0)
#15000
1)
#20000
0)
#25000
1)
#30000
0)
#35000
1)
#40000
0)
#45000
b1 /
b110000101100110011101000110010101110010001000000111001001100101011100110110010101110100 7
05
08
16
1,
1)
#50000
0)
#55000
b0 -
b110000101100110011101000110010101110010001000000111001001100101011100110110010101110100 ;
09
0:
1)
#60000
b1 1
1"
1+
1'
0)
#65000
b1 2
1!
0"
b1 3
1)
#70000
1!
b1 2
b10101000011000100100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110000 7
18
06
0+
0'
0)
#75000
b10 1
1!
b0 2
b1 4
b10101000011000100100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110001 7
b10101000011000100100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110000 ;
1)
#80000
0)
#85000
b11 1
1!
b0 4
b10 3
b1010100001100010010000001010111010000010100100101010100010111110100001101001100010001010100000101010010 7
b10101000011000100100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110001 ;
1)
#90000
0)
#95000
b100 1
1$
1#
0!
b1 &
b1 0
b11 3
b1010100001100010010000001001111010100000100010101001110 7
15
08
b1010100001100010010000001010111010000010100100101010100010111110100001101001100010001010100000101010010 ;
1)
#100000
0)
#105000
b1 2
0$
1#
b100 3
b1010100001100010010000001000111010100100100010101000101010011100010000000110000 7
b1 -
b1010100001100010010000001001111010100000100010101001110 ;
1:
1)
#110000
0)
#115000
1#
b10 2
b1 4
b1010100001100010010000001000111010100100100010101000101010011100010000000110001 7
b1010100001100010010000001000111010100100100010101000101010011100010000000110000 ;
0:
1)
#120000
0)
#125000
b101 1
1#
b0 2
b10 4
b1010100001100010010000001000111010100100100010101000101010011100010000000110010 7
b1010100001100010010000001000111010100100100010101000101010011100010000000110001 ;
1)
#130000
0)
#135000
b110 1
1!
0#
b0 4
b101 3
b10101000011000100100000010110010100010101001100010011000100111101010111 7
05
18
b1010100001100010010000001000111010100100100010101000101010011100010000000110010 ;
1)
#140000
0)
#145000
b0 1
1%
1"
0!
b110 3
b101010000110001001000000100001101001100010011110101001101000101 7
08
16
b10101000011000100100000010110010100010101001100010011000100111101010111 ;
1)
#150000
0)
#155000
0%
1"
b0 3
b1010100001100010010000001001001010001000100110001000101 7
b101010000110001001000000100001101001100010011110101001101000101 ;
19
1)
#160000
0)
#165000
b1010100001100010010000001001001010001000100110001000101 ;
09
1)
#170000
b1 1
1"
1+
1'
0)
#175000
b1 2
1!
0"
b1 3
1)
#180000
1!
b1 2
b10101000011001000100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110000 7
18
06
0+
0'
0)
#185000
b10 1
1!
b0 2
b1 4
b10101000011001000100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110001 7
b10101000011001000100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110000 ;
1)
#190000
0)
#195000
b0 4
b10 3
1!
b10 1
b10101000011001000100000010101110100000101001001010101000101111101000011010011000100010101000001010100100010000000110000 7
0(
b10101000011001000100000010110010100010101001100010011000100111101010111010111110101000001010010010001010010000000110001 ;
1)
#200000
0)
#205000
b10 &
b10 0
b10101000011001000100000010101110100000101001001010101000101111101000011010011000100010101000001010100100010000000110000 ;
1)
#210000
0)
#215000
b11 &
b11 0
1)
#220000
0)
#225000
b100 &
b100 0
1)
#230000
0)
#235000
b101 &
b101 0
1)
#240000
0)
#245000
b110 &
b110 0
1)
#250000
b11 1
1!
b101010000110010001000000101011101000001010010010101010001011111010000110100110001000101010000010101001000100000011100100110010101101100 7
1(
0)
#255000
b100 1
1$
1#
0!
b111 &
b111 0
b11 3
b1010100001100100010000001001111010100000100010101001110 7
15
08
b101010000110010001000000101011101000001010010010101010001011111010000110100110001000101010000010101001000100000011100100110010101101100 ;
1)
#260000
0)
#265000
b1 2
0$
1#
b100 3
b1010100001100100010000001000111010100100100010101000101010011100010000000110000 7
b10 -
b1010100001100100010000001001111010100000100010101001110 ;
1:
1)
#270000
0)
#275000
1#
b10 2
b1 4
b1010100001100100010000001000111010100100100010101000101010011100010000000110001 7
b1010100001100100010000001000111010100100100010101000101010011100010000000110000 ;
0:
1)
#280000
0)
#285000
b101 1
1#
b0 2
b10 4
b1010100001100100010000001000111010100100100010101000101010011100010000000110010 7
b1010100001100100010000001000111010100100100010101000101010011100010000000110001 ;
1)
#290000
0)
#295000
b110 1
1!
0#
b0 4
b101 3
b10101000011001000100000010110010100010101001100010011000100111101010111 7
05
18
b1010100001100100010000001000111010100100100010101000101010011100010000000110010 ;
1)
#300000
0)
#305000
b0 1
1%
1"
0!
b110 3
b101010000110010001000000100001101001100010011110101001101000101 7
08
16
b10101000011001000100000010110010100010101001100010011000100111101010111 ;
1)
#310000
0)
#315000
0%
1"
b0 3
b1010100001100100010000001001001010001000100110001000101 7
b101010000110010001000000100001101001100010011110101001101000101 ;
19
1)
#320000
0)
#325000
b1010100001100100010000001001001010001000100110001000101 ;
09
1)
